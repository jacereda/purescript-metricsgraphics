module Data where

import Prelude

import Data.Array (catMaybes)
import Data.Int (toNumber)
import Data.Maybe (Maybe(..))
import MetricsGraphics.Date (Date, yyyymmdd)

flipped :: forall x y. Array (Array {x :: x, y :: y}) -> Array (Array {x :: y, y :: x})
flipped = map (map f)
  where f {x, y} = { x: y, y: x}

factor :: Number -> Array (Array {x :: Date, y :: Int}) -> Array (Array {x :: Date, y :: Number})
factor b = map (map f)
  where f {x, y} = { x: x, y: toNumber y / b }

fakeusers :: Array (Array {x :: Date, y :: Int})
fakeusers = map (catMaybes <<< map (\r -> (\x y -> { x: x, y: y }) <$> yyyymmdd r.d <*> Just r.v))
  [ [ { d: "2014-01-01", v: 10000000 }
    , { d: "2014-01-02", v: 10379978 }
    , { d: "2014-01-03", v: 10493749 }
    , { d: "2014-01-04", v: 10785250 }
    , { d: "2014-01-05", v: 13901904 }
    , { d: "2014-01-06", v: 11576838 }
    , { d: "2014-01-07", v: 14413854 }
    , { d: "2014-01-08", v: 15177211 }
    , { d: "2014-01-09", v: 16622100 }
    , { d: "2014-01-10", v: 17381072 }
    , { d: "2014-01-11", v: 18802310 }
    , { d: "2014-01-12", v: 15531790 }
    , { d: "2014-01-13", v: 15748881 }
    , { d: "2014-01-14", v: 18706437 }
    , { d: "2014-01-15", v: 19752685 }
    , { d: "2014-01-16", v: 21016418 }
    , { d: "2014-01-17", v: 25622924 }
    , { d: "2014-01-18", v: 25337480 }
    , { d: "2014-01-19", v: 22258882 }
    , { d: "2014-01-20", v: 23829538 }
    , { d: "2014-01-21", v: 24245689 }
    , { d: "2014-01-22", v: 26429711 }
    , { d: "2014-01-23", v: 26259017 }
    , { d: "2014-01-24", v: 25396183 }
    , { d: "2014-01-25", v: 23107346 }
    , { d: "2014-01-26", v: 28659852 }
    , { d: "2014-01-27", v: 25270783 }
    , { d: "2014-01-28", v: 26270783 }
    , { d: "2014-01-29", v: 27270783 }
    , { d: "2014-01-30", v: 28270783 }
    , { d: "2014-01-31", v: 29270783 }
    , { d: "2014-02-01", v: 30270783 }
    , { d: "2014-02-02", v: 31270783 }
    , { d: "2014-02-03", v: 32270783 }
    , { d: "2014-02-04", v: 33270783 }
    , { d: "2014-02-05", v: 28270783 }
    , { d: "2014-02-06", v: 27270783 }
    , { d: "2014-02-07", v: 35270783 }
    , { d: "2014-02-08", v: 34270783 }
    , { d: "2014-02-09", v: 28270783 }
    , { d: "2014-02-10", v: 35270783 }
    , { d: "2014-02-11", v: 36270783 }
    , { d: "2014-02-12", v: 34127078 }
    , { d: "2014-02-13", v: 33124078 }
    , { d: "2014-02-14", v: 36227078 }
    , { d: "2014-02-15", v: 37827078 }
    , { d: "2014-02-16", v: 36427073 }
    , { d: "2014-02-17", v: 37570783 }
    , { d: "2014-02-18", v: 38627073 }
    , { d: "2014-02-19", v: 37727078 }
    , { d: "2014-02-20", v: 38827073 }
    , { d: "2014-02-21", v: 40927078 }
    , { d: "2014-02-22", v: 41027078 }
    , { d: "2014-02-23", v: 42127073 }
    , { d: "2014-02-24", v: 43220783 }
    , { d: "2014-02-25", v: 44327078 }
    , { d: "2014-02-26", v: 40427078 }
    , { d: "2014-02-27", v: 41027078 }
    , { d: "2014-02-28", v: 45627078 }
    , { d: "2014-03-01", v: 44727078 }
    , { d: "2014-03-02", v: 44227078 }
    , { d: "2014-03-03", v: 45227078 }
    , { d: "2014-03-04", v: 46027078 }
    , { d: "2014-03-05", v: 46927078 }
    , { d: "2014-03-06", v: 47027078 }
    , { d: "2014-03-07", v: 46227078 }
    , { d: "2014-03-08", v: 47027078 }
    , { d: "2014-03-09", v: 48027078 }
    , { d: "2014-03-10", v: 47027078 }
    , { d: "2014-03-11", v: 47027078 }
    , { d: "2014-03-12", v: 48017078 }
    , { d: "2014-03-13", v: 48077078 }
    , { d: "2014-03-14", v: 48087078 }
    , { d: "2014-03-15", v: 48017078 }
    , { d: "2014-03-16", v: 48047078 }
    , { d: "2014-03-17", v: 48067078 }
    , { d: "2014-03-18", v: 48077078 }
    , { d: "2014-03-19", v: 48027074 }
    , { d: "2014-03-20", v: 48927079 }
    , { d: "2014-03-21", v: 48727071 }
    , { d: "2014-03-22", v: 48127072 }
    , { d: "2014-03-23", v: 48527072 }
    , { d: "2014-03-24", v: 48627027 }
    , { d: "2014-03-25", v: 48027040 }
    , { d: "2014-03-26", v: 48027043 }
    , { d: "2014-03-27", v: 48057022 }
    , { d: "2014-03-28", v: 49057022 }
    , { d: "2014-03-29", v: 50057022 }
    , { d: "2014-03-30", v: 51057022 }
    , { d: "2014-03-31", v: 52057022 }
    , { d: "2014-04-01", v: 53057022 }
    , { d: "2014-04-02", v: 54057022 }
    , { d: "2014-04-03", v: 52057022 }
    , { d: "2014-04-04", v: 55057022 }
    , { d: "2014-04-05", v: 58270783 }
    , { d: "2014-04-06", v: 56270783 }
    , { d: "2014-04-07", v: 55270783 }
    , { d: "2014-04-08", v: 58270783 }
    , { d: "2014-04-09", v: 59270783 }
    , { d: "2014-04-10", v: 60270783 }
    , { d: "2014-04-11", v: 61270783 }
    , { d: "2014-04-12", v: 62270783 }
    , { d: "2014-04-13", v: 63270783 }
    , { d: "2014-04-14", v: 64270783 }
    , { d: "2014-04-15", v: 65270783 }
    , { d: "2014-04-16", v: 66270783 }
    , { d: "2014-04-17", v: 67270783 }
    , { d: "2014-04-18", v: 68270783 }
    , { d: "2014-04-19", v: 69270783 }
    , { d: "2014-04-20", v: 70270783 }
    , { d: "2014-04-21", v: 71270783 }
    , { d: "2014-04-22", v: 72270783 }
    , { d: "2014-04-23", v: 73270783 }
    , { d: "2014-04-24", v: 74270783 }
    , { d: "2014-04-25", v: 75270783 }
    , { d: "2014-04-26", v: 76660783 }
    , { d: "2014-04-27", v: 77270783 }
    , { d: "2014-04-28", v: 78370783 }
    , { d: "2014-04-29", v: 79470783 }
    , { d: "2014-04-30", v: 80170783 }
    ]
  , [ { d: "2014-01-01", v: 150000000 }
    , { d: "2014-01-02", v: 160379978 }
    , { d: "2014-01-03", v: 170493749 }
    , { d: "2014-01-04", v: 160785250 }
    , { d: "2014-01-05", v: 167391904 }
    , { d: "2014-01-06", v: 161576838 }
    , { d: "2014-01-07", v: 161413854 }
    , { d: "2014-01-08", v: 152177211 }
    , { d: "2014-01-09", v: 143762210 }
    , { d: "2014-01-10", v: 144381072 }
    , { d: "2014-01-11", v: 154352310 }
    , { d: "2014-01-12", v: 165531790 }
    , { d: "2014-01-13", v: 175748881 }
    , { d: "2014-01-14", v: 187064037 }
    , { d: "2014-01-15", v: 197520685 }
    , { d: "2014-01-16", v: 210176418 }
    , { d: "2014-01-17", v: 196122924 }
    , { d: "2014-01-18", v: 207337480 }
    , { d: "2014-01-19", v: 200258882 }
    , { d: "2014-01-20", v: 186829538 }
    , { d: "2014-01-21", v: 192456897 }
    , { d: "2014-01-22", v: 204299711 }
    , { d: "2014-01-23", v: 192759017 }
    , { d: "2014-01-24", v: 203596183 }
    , { d: "2014-01-25", v: 208107346 }
    , { d: "2014-01-26", v: 196359852 }
    , { d: "2014-01-27", v: 192570783 }
    , { d: "2014-01-28", v: 177967768 }
    , { d: "2014-01-29", v: 190632803 }
    , { d: "2014-01-30", v: 203725316 }
    , { d: "2014-01-31", v: 218226177 }
    , { d: "2014-02-01", v: 210698669 }
    , { d: "2014-02-02", v: 217640656 }
    , { d: "2014-02-03", v: 216142362 }
    , { d: "2014-02-04", v: 201410971 }
    , { d: "2014-02-05", v: 196704289 }
    , { d: "2014-02-06", v: 190436945 }
    , { d: "2014-02-07", v: 178891686 }
    , { d: "2014-02-08", v: 171613962 }
    , { d: "2014-02-09", v: 157579773 }
    , { d: "2014-02-10", v: 158677098 }
    , { d: "2014-02-11", v: 147129977 }
    , { d: "2014-02-12", v: 151561876 }
    , { d: "2014-02-13", v: 151627421 }
    , { d: "2014-02-14", v: 143543872 }
    , { d: "2014-02-15", v: 136581057 }
    , { d: "2014-02-16", v: 135560715 }
    , { d: "2014-02-17", v: 122625263 }
    , { d: "2014-02-18", v: 112091484 }
    , { d: "2014-02-19", v: 98810329 }
    , { d: "2014-02-20", v: 99882912 }
    , { d: "2014-02-21", v: 94943095 }
    , { d: "2014-02-22", v: 104875743 }
    , { d: "2014-02-23", v: 116383678 }
    , { d: "2014-02-24", v: 125028841 }
    , { d: "2014-02-25", v: 123967310 }
    , { d: "2014-02-26", v: 133167029 }
    , { d: "2014-02-27", v: 128577263 }
    , { d: "2014-02-28", v: 115836969 }
    , { d: "2014-03-01", v: 119264529 }
    , { d: "2014-03-02", v: 109363374 }
    , { d: "2014-03-03", v: 113985628 }
    , { d: "2014-03-04", v: 114650999 }
    , { d: "2014-03-05", v: 110866108 }
    , { d: "2014-03-06", v: 96473454 }
    , { d: "2014-03-07", v: 104075886 }
    , { d: "2014-03-08", v: 103568384 }
    , { d: "2014-03-09", v: 101534883 }
    , { d: "2014-03-10", v: 115825447 }
    , { d: "2014-03-11", v: 126133916 }
    , { d: "2014-03-12", v: 116502109 }
    , { d: "2014-03-13", v: 130169411 }
    , { d: "2014-03-14", v: 124296886 }
    , { d: "2014-03-15", v: 126347399 }
    , { d: "2014-03-16", v: 131483669 }
    , { d: "2014-03-17", v: 142811333 }
    , { d: "2014-03-18", v: 129675396 }
    , { d: "2014-03-19", v: 115514483 }
    , { d: "2014-03-20", v: 117630630 }
    , { d: "2014-03-21", v: 122340239 }
    , { d: "2014-03-22", v: 132349091 }
    , { d: "2014-03-23", v: 125613305 }
    , { d: "2014-03-24", v: 135592466 }
    , { d: "2014-03-25", v: 123408762 }
    , { d: "2014-03-26", v: 111991454 }
    , { d: "2014-03-27", v: 116123955 }
    , { d: "2014-03-28", v: 112817214 }
    , { d: "2014-03-29", v: 113029590 }
    , { d: "2014-03-30", v: 108753398 }
    , { d: "2014-03-31", v: 99383763 }
    , { d: "2014-04-01", v: 100151737 }
    , { d: "2014-04-02", v: 94985209 }
    , { d: "2014-04-03", v: 82913669 }
    , { d: "2014-04-04", v: 78748268 }
    , { d: "2014-04-05", v: 63829135 }
    , { d: "2014-04-06", v: 78694727 }
    , { d: "2014-04-07", v: 80868994 }
    , { d: "2014-04-08", v: 93799013 }
    , { d: "2014-04-09", v: 99042416 }
    , { d: "2014-04-10", v: 97298692 }
    , { d: "2014-04-11", v: 83353499 }
    , { d: "2014-04-12", v: 71248129 }
    , { d: "2014-04-13", v: 75253744 }
    , { d: "2014-04-14", v: 68976648 }
    , { d: "2014-04-15", v: 71002284 }
    , { d: "2014-04-16", v: 75052401 }
    , { d: "2014-04-17", v: 83894030 }
    , { d: "2014-04-18", v: 90236528 }
    , { d: "2014-04-19", v: 99739114 }
    , { d: "2014-04-20", v: 96407136 }
    , { d: "2014-04-21", v: 108323177 }
    , { d: "2014-04-22", v: 101578914 }
    , { d: "2014-04-23", v: 115877608 }
    , { d: "2014-04-24", v: 112088857 }
    , { d: "2014-04-25", v: 112071353 }
    , { d: "2014-04-26", v: 101790062 }
    , { d: "2014-04-27", v: 115003761 }
    , { d: "2014-04-28", v: 120457727 }
    , { d: "2014-04-29", v: 118253926 }
    , { d: "2014-04-30", v: 117956992 }
    ]
  , [ { d: "2014-01-01", v: 60000000 }
    , { d: "2014-01-02", v: 60379978 }
    , { d: "2014-01-03", v: 40493749 }
    , { d: "2014-01-04", v: 60785250 }
    , { d: "2014-01-05", v: 67391904 }
    , { d: "2014-01-06", v: 61576838 }
    , { d: "2014-01-07", v: 61413854 }
    , { d: "2014-01-08", v: 82177211 }
    , { d: "2014-01-09", v: 103762210 }
    , { d: "2014-01-10", v: 84381072 }
    , { d: "2014-01-11", v: 54352310 }
    , { d: "2014-01-12", v: 65531790 }
    , { d: "2014-01-13", v: 75748881 }
    , { d: "2014-01-14", v: 47064037 }
    , { d: "2014-01-15", v: 67520685 }
    , { d: "2014-01-16", v: 60176418 }
    , { d: "2014-01-17", v: 66122924 }
    , { d: "2014-01-18", v: 57337480 }
    , { d: "2014-01-19", v: 100258882 }
    , { d: "2014-01-20", v: 46829538 }
    , { d: "2014-01-21", v: 92456897 }
    , { d: "2014-01-22", v: 94299711 }
    , { d: "2014-01-23", v: 62759017 }
    , { d: "2014-01-24", v: 103596183 }
    , { d: "2014-01-25", v: 108107346 }
    , { d: "2014-01-26", v: 66359852 }
    , { d: "2014-01-27", v: 62570783 }
    , { d: "2014-01-28", v: 77967768 }
    , { d: "2014-01-29", v: 60632803 }
    , { d: "2014-01-30", v: 103725316 }
    , { d: "2014-01-31", v: 98226177 }
    , { d: "2014-02-01", v: 60698669 }
    , { d: "2014-02-02", v: 67640656 }
    , { d: "2014-02-03", v: 66142362 }
    , { d: "2014-02-04", v: 101410971 }
    , { d: "2014-02-05", v: 66704289 }
    , { d: "2014-02-06", v: 60436945 }
    , { d: "2014-02-07", v: 78891686 }
    , { d: "2014-02-08", v: 71613962 }
    , { d: "2014-02-09", v: 107579773 }
    , { d: "2014-02-10", v: 58677098 }
    , { d: "2014-02-11", v: 87129977 }
    , { d: "2014-02-12", v: 51561876 }
    , { d: "2014-02-13", v: 51627421 }
    , { d: "2014-02-14", v: 83543872 }
    , { d: "2014-02-15", v: 66581057 }
    , { d: "2014-02-16", v: 65560715 }
    , { d: "2014-02-17", v: 62625263 }
    , { d: "2014-02-18", v: 92091484 }
    , { d: "2014-02-19", v: 48810329 }
    , { d: "2014-02-20", v: 49882912 }
    , { d: "2014-02-21", v: 44943095 }
    , { d: "2014-02-22", v: 104875743 }
    , { d: "2014-02-23", v: 96383678 }
    , { d: "2014-02-24", v: 105028841 }
    , { d: "2014-02-25", v: 63967310 }
    , { d: "2014-02-26", v: 63167029 }
    , { d: "2014-02-27", v: 68577263 }
    , { d: "2014-02-28", v: 95836969 }
    , { d: "2014-03-01", v: 99264529 }
    , { d: "2014-03-02", v: 109363374 }
    , { d: "2014-03-03", v: 93985628 }
    , { d: "2014-03-04", v: 94650999 }
    , { d: "2014-03-05", v: 90866108 }
    , { d: "2014-03-06", v: 46473454 }
    , { d: "2014-03-07", v: 84075886 }
    , { d: "2014-03-08", v: 103568384 }
    , { d: "2014-03-09", v: 101534883 }
    , { d: "2014-03-10", v: 95825447 }
    , { d: "2014-03-11", v: 66133916 }
    , { d: "2014-03-12", v: 96502109 }
    , { d: "2014-03-13", v: 80169411 }
    , { d: "2014-03-14", v: 84296886 }
    , { d: "2014-03-15", v: 86347399 }
    , { d: "2014-03-16", v: 31483669 }
    , { d: "2014-03-17", v: 82811333 }
    , { d: "2014-03-18", v: 89675396 }
    , { d: "2014-03-19", v: 95514483 }
    , { d: "2014-03-20", v: 97630630 }
    , { d: "2014-03-21", v: 62340239 }
    , { d: "2014-03-22", v: 62349091 }
    , { d: "2014-03-23", v: 65613305 }
    , { d: "2014-03-24", v: 65592466 }
    , { d: "2014-03-25", v: 63408762 }
    , { d: "2014-03-26", v: 91991454 }
    , { d: "2014-03-27", v: 96123955 }
    , { d: "2014-03-28", v: 92817214 }
    , { d: "2014-03-29", v: 93029590 }
    , { d: "2014-03-30", v: 108753398 }
    , { d: "2014-03-31", v: 49383763 }
    , { d: "2014-04-01", v: 100151737 }
    , { d: "2014-04-02", v: 44985209 }
    , { d: "2014-04-03", v: 52913669 }
    , { d: "2014-04-04", v: 48748268 }
    , { d: "2014-04-05", v: 23829135 }
    , { d: "2014-04-06", v: 58694727 }
    , { d: "2014-04-07", v: 50868994 }
    , { d: "2014-04-08", v: 43799013 }
    , { d: "2014-04-09", v: 4042416 }
    , { d: "2014-04-10", v: 47298692 }
    , { d: "2014-04-11", v: 53353499 }
    , { d: "2014-04-12", v: 71248129 }
    , { d: "2014-04-13", v: 75253744 }
    , { d: "2014-04-14", v: 68976648 }
    , { d: "2014-04-15", v: 71002284 }
    , { d: "2014-04-16", v: 75052401 }
    , { d: "2014-04-17", v: 83894030 }
    , { d: "2014-04-18", v: 50236528 }
    , { d: "2014-04-19", v: 59739114 }
    , { d: "2014-04-20", v: 56407136 }
    , { d: "2014-04-21", v: 108323177 }
    , { d: "2014-04-22", v: 101578914 }
    , { d: "2014-04-23", v: 95877608 }
    , { d: "2014-04-24", v: 62088857 }
    , { d: "2014-04-25", v: 92071353 }
    , { d: "2014-04-26", v: 81790062 }
    , { d: "2014-04-27", v: 105003761 }
    , { d: "2014-04-28", v: 100457727 }
    , { d: "2014-04-29", v: 98253926 }
    , { d: "2014-04-30", v: 67956992 }
    ]
  ]
